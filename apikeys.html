{% extends "base.html" %}
{% set title = "My API Keys" %}
{% block content %}
<table class="table table-hover">
  <thead>
    <tr>
      <th>Key ID</th>
      <th>Characters</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    {% for key in keys %}
    <tr>
      <td>{{ key.id }}</td>
      <td>{{ key.characters }}</td>
      <td>
        <a href="/apikeys?action=refresh&id={{ key.id }}">Refresh</a>
      </td>
      <td>
        <a href="/apikeys?action=remove&id={{ key.id }}">Remove</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<form action="/apikeys" method="POST" class="form-inline">
<fieldset>
  <legend>Add a new key</legend>

  <input id="new_key_id" name="id" class="span2"
    type="text" placeholder="Key ID" />

  <input id="new_key_vcode" name="vcode" class="span7"
    type="text" placeholder="Verification Code" />

  <input type="submit" value="Add Key" class="btn" />

  <input type="hidden" name="action" value="add" />
</fieldset>
</form>
<p class="well">
  API keys must have the Character Sheet permission. To create a key
  with the proper permissions, <a target="_blank"
  href="https://support.eveonline.com/api/key/createpredefined/8">
  click here</a>.
</p>
{% endblock %}
